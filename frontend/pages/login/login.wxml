<!--登录页面 - 简洁灰白设计-->
<view class="container">
  <!-- 顶部装饰 -->
  <view class="top-decoration"></view>
  
  <!-- 头部区域 -->
  <view class="login-header">
    <view class="logo">🎓</view>
    <text class="app-title">Easy-QFNUJW</text>
    <text class="app-subtitle">曲阜师范大学教务助手</text>
    <text class="app-desc">第三方教务辅助工具，让学习更简单</text>
  </view>

  <!-- 登录表单 -->
  <view class="login-form">
    <view class="login-card">
      <view class="form-title">账号登录</view>
      
      <!-- 学号输入 -->
      <view class="input-group">
        <text class="input-label">学号</text>
        <view class="input-wrapper">
          <text class="input-icon">👤</text>
          <input 
            class="input-field {{errors.studentId ? 'error' : ''}}"
            placeholder="请输入您的学号"
            value="{{studentId}}"
            bindinput="onStudentIdInput"
            maxlength="20"
            type="text"
          />
        </view>
        <text class="input-error" wx:if="{{errors.studentId}}">{{errors.studentId}}</text>
      </view>

      <!-- 密码输入 -->
      <view class="input-group">
        <text class="input-label">密码</text>
        <view class="input-wrapper">
          <text class="input-icon">🔒</text>
          <input 
            class="input-field {{errors.password ? 'error' : ''}}"
            placeholder="请输入教务系统密码"
            value="{{password}}"
            bindinput="onPasswordInput"
            password="{{!showPassword}}"
            maxlength="50"
          />
          <text class="password-toggle" bindtap="togglePassword">
            {{showPassword ? '🙈' : '👁️'}}
          </text>
        </view>
        <text class="input-error" wx:if="{{errors.password}}">{{errors.password}}</text>
      </view>

      <!-- 辅助选项 -->
      <view class="form-options">
        <view class="remember-me" bindtap="toggleRemember">
          <view class="checkbox {{rememberMe ? 'checked' : ''}}">
            <text wx:if="{{rememberMe}}">✓</text>
          </view>
          <text>记住学号</text>
        </view>
        <text class="forgot-password" bindtap="showHelp">登录帮助</text>
      </view>

      <!-- 登录按钮 -->
      <button 
        class="login-button {{isLoading ? 'loading' : ''}}"
        bindtap="handleLogin"
        disabled="{{isLoading}}"
      >
        {{isLoading ? '登录中...' : '登录'}}
      </button>
    </view>
  </view>

  <!-- 底部信息 -->
  <view class="login-footer">
    <view class="footer-links">
      <text class="footer-link" bindtap="showUserAgreement">用户协议</text>
      <text class="footer-link" bindtap="showPrivacyPolicy">隐私政策</text>
      <text class="footer-link" bindtap="contactUs">联系我们</text>
    </view>
    <text class="footer-info">
      本应用为第三方开发的教务辅助工具
      不会保存您的密码，请放心使用
    </text>
  </view>

  <!-- 加载遮罩 -->
  <view class="loading-overlay" wx:if="{{isLoading}}">
    <view class="loading-content">
      <view class="loading-icon"></view>
      <text class="loading-text">正在登录验证...</text>
    </view>
  </view>
</view>