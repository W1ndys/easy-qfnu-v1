<!--首页 - 简洁灰白设计-->
<view class="container">
  <!-- 用户信息头部 -->
  <view class="user-header fade-in">
    <view class="user-info">
      <view class="user-avatar">👨‍🎓</view>
      <view class="user-details">
        <text class="user-name">{{userInfo.name || '同学'}}</text>
        <text class="user-id">学号：{{userInfo.studentId || '未知'}}</text>
        <view class="user-status">
          <view class="status-dot"></view>
          <text>已登录</text>
        </view>
      </view>
    </view>
    
    <view class="quick-stats">
      <view class="stat-item">
        <text class="stat-value">{{stats.totalCourses || '-'}}</text>
        <text class="stat-label">本学期课程</text>
      </view>
      <view class="stat-item">
        <text class="stat-value">{{stats.avgGpa || '-'}}</text>
        <text class="stat-label">平均绩点</text>
      </view>
      <view class="stat-item">
        <text class="stat-value">{{stats.totalCredits || '-'}}</text>
        <text class="stat-label">已修学分</text>
      </view>
    </view>
  </view>

  <!-- 功能菜单 -->
  <view class="menu-grid fade-in">
    <view class="grid-row">
      <view class="menu-item" bindtap="navigateToGrades">
        <view class="menu-icon">📊</view>
        <text class="menu-title">成绩查询</text>
        <text class="menu-desc">查看各科成绩和绩点</text>
      </view>
      <view class="menu-item" bindtap="navigateToSchedule">
        <view class="menu-icon">📅</view>
        <text class="menu-title">课程表</text>
        <text class="menu-desc">查看本周课程安排</text>
      </view>
    </view>
    
    <view class="grid-row">
      <view class="menu-item" bindtap="navigateToStats">
        <view class="menu-icon">📈</view>
        <text class="menu-title">成绩统计</text>
        <text class="menu-desc">课程数据分析</text>
      </view>
      <view class="menu-item" bindtap="checkCourseCapacity">
        <view class="menu-icon">🎯</view>
        <text class="menu-title">选课助手</text>
        <text class="menu-desc">课程容量查询</text>
      </view>
    </view>
  </view>

  <!-- 今日课程 -->
  <view class="today-courses fade-in">
    <view class="card-header">
      <text class="card-title">今日课程</text>
      <text class="view-all" bindtap="navigateToSchedule">查看全部 ></text>
    </view>
    
    <view wx:if="{{todayCourses.length > 0}}" class="course-list">
      <view 
        class="course-item"
        wx:for="{{todayCourses}}" 
        wx:key="id"
      >
        <view class="course-header">
          <text class="course-name">{{item.courseName}}</text>
          <text class="course-time">{{item.timeSlot}}</text>
        </view>
        <text class="course-info">{{item.teacher}} · {{item.location}}</text>
      </view>
    </view>
    
    <view wx:else class="no-courses">
      <view class="no-courses-icon">📚</view>
      <text class="no-courses-text">今天没有课程</text>
      <text class="no-courses-desc">好好休息，明天继续加油！</text>
    </view>
  </view>

  <!-- 系统通知 -->
  <view class="notices fade-in">
    <view class="card-header">
      <text class="card-title">系统通知</text>
      <text class="view-all">更多 ></text>
    </view>
    
    <view class="notice-item">
      <view class="notice-icon"></view>
      <text class="notice-content">欢迎使用Easy-QFNUJW教务助手</text>
      <text class="notice-time">刚刚</text>
    </view>
    
    <view class="notice-item">
      <view class="notice-icon"></view>
      <text class="notice-content">数据仅供参考，请以学校官方为准</text>
      <text class="notice-time">1分钟前</text>
    </view>
    
    <view class="notice-item">
      <view class="notice-icon"></view>
      <text class="notice-content">建议定期更新获取最新数据</text>
      <text class="notice-time">5分钟前</text>
    </view>
  </view>

  <!-- 快捷操作按钮 -->
  <view class="quick-actions">
    <view class="action-btn" bindtap="refreshData">
      🔄
    </view>
    <view class="action-btn secondary" bindtap="showSettings">
      ⚙️
    </view>
  </view>

  <!-- 加载状态 -->
  <view class="loading-state" wx:if="{{isLoading}}">
    <view class="loading-icon"></view>
    <text class="loading-text">正在加载数据...</text>
  </view>
</view>