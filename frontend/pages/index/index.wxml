<!--é¦–é¡µ-->
<view class="container">
  <!-- ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ -->
  <view class="user-card card fade-in">
    <view class="user-header">
      <view class="user-avatar">ğŸ‘¤</view>
      <view class="user-info">
        <text class="user-greeting">{{greeting}}ï¼</text>
        <text class="user-name" wx:if="{{userInfo}}">{{userInfo.name}}</text>
        <text class="current-time">{{currentTime}}</text>
      </view>
      <view class="settings-btn" bindtap="goToSettings">âš™ï¸</view>
    </view>
  </view>

  <!-- å¿«æ·æ“ä½œ -->
  <view class="quick-actions card fade-in">
    <view class="card-title">å¿«æ·æ“ä½œ</view>
    <view class="actions-grid">
      <view 
        class="action-item" 
        wx:for="{{quickActions}}" 
        wx:key="id"
        data-path="{{item.path}}"
        bindtap="onQuickActionTap"
      >
        <text class="action-icon">{{item.icon}}</text>
        <text class="action-name">{{item.name}}</text>
      </view>
    </view>
  </view>

  <!-- ä»Šæ—¥è¯¾ç¨‹ -->
  <view class="today-courses card fade-in" wx:if="{{todayCourses.length > 0}}">
    <view class="card-header">
      <text class="card-title">ä»Šæ—¥è¯¾ç¨‹</text>
      <text class="more-btn" bindtap="viewMoreCourses">æŸ¥çœ‹æ›´å¤š ></text>
    </view>
    <view class="courses-list">
      <view 
        class="course-item" 
        wx:for="{{todayCourses}}" 
        wx:key="index"
        data-course="{{item}}"
        bindtap="onCourseTap"
      >
        <view class="course-time">
          <text class="time-text">{{item.start_time}}</text>
          <text class="time-divider">-</text>
          <text class="time-text">{{item.end_time}}</text>
        </view>
        <view class="course-info">
          <text class="course-name">{{item.course_info.course_name}}</text>
          <text class="course-location">ğŸ“ {{item.course_info.location}}</text>
          <text class="course-teacher">ğŸ‘¨â€ğŸ« {{item.course_info.teacher}}</text>
        </view>
        <view class="course-arrow">></view>
      </view>
    </view>
  </view>

  <!-- æ— è¯¾ç¨‹æç¤º -->
  <view class="no-courses card fade-in" wx:else>
    <view class="empty-state">
      <text class="empty-icon">ğŸ“…</text>
      <text class="empty-text">ä»Šæ—¥æ— è¯¾ç¨‹å®‰æ’</text>
      <text class="empty-desc">å¥½å¥½ä¼‘æ¯æˆ–è‡ªä¸»å­¦ä¹ å§ï¼</text>
    </view>
  </view>

  <!-- æˆç»©æ‘˜è¦ -->
  <view class="grades-summary card fade-in" wx:if="{{gradesSummary}}">
    <view class="card-header">
      <text class="card-title">æˆç»©æ¦‚è§ˆ</text>
      <text class="more-btn" bindtap="viewGradesDetail">æŸ¥çœ‹è¯¦æƒ… ></text>
    </view>
    <view class="summary-grid">
      <view class="summary-item">
        <text class="summary-value">{{gradesSummary.overall_stats.gpa}}</text>
        <text class="summary-label">æ€»GPA</text>
      </view>
      <view class="summary-item">
        <text class="summary-value">{{gradesSummary.overall_stats.total_credits}}</text>
        <text class="summary-label">æ€»å­¦åˆ†</text>
      </view>
      <view class="summary-item">
        <text class="summary-value">{{gradesSummary.overall_stats.total_courses}}</text>
        <text class="summary-label">æ€»è¯¾ç¨‹</text>
      </view>
      <view class="summary-item">
        <text class="summary-value">{{gradesSummary.overall_stats.weighted_average}}</text>
        <text class="summary-label">åŠ æƒå¹³å‡</text>
      </view>
    </view>
  </view>

  <!-- ç³»ç»Ÿå…¬å‘Š -->
  <view class="announcements card fade-in" wx:if="{{announcements.length > 0}}">
    <view class="card-title">ğŸ“¢ ç³»ç»Ÿå…¬å‘Š</view>
    <view class="announcement-list">
      <view 
        class="announcement-item" 
        wx:for="{{announcements}}" 
        wx:key="id"
        data-announcement="{{item}}"
        bindtap="onAnnouncementTap"
      >
        <view class="announcement-content">
          <text class="announcement-title">{{item.title}}</text>
          <text class="announcement-time">{{item.time}}</text>
        </view>
        <view class="announcement-arrow">></view>
      </view>
    </view>
  </view>

  <!-- åº•éƒ¨é—´è· -->
  <view class="bottom-spacer"></view>
</view>
