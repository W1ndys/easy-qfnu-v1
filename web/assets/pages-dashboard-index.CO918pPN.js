import{p as e,q as t,s,u as c,v as a,r as l,c as n,w as o,o as i,a as r,j as u,t as d,f,K as p,F as _,h as x,L as m,A as k,B as g,D as h,g as b,k as y,J as C,n as q,d as v,y as Q}from"./index-DPAHPNGE.js";import{_ as z,o as F,b as w,r as j,a as T}from"./uni-app.es.CNW-eBRD.js";import{d as E}from"./jwt-decode.BG2CxKku.js";import{P as A,M}from"./ModernCard.BUFaB7Ew.js";const B=z({__name:"index",setup(z){const B=e("加载中..."),G=e([{text:"成绩查询",description:"查看成绩与GPA分析",icon:"paperplane",url:"/pages/grades/index"},{text:"平均分查询",description:"查看课程平均分数据",icon:"bars",url:"/pages/average-scores/index"},{text:"选课推荐",description:"智能推荐选课方案",icon:"star",url:"https://doc.easy-qfnu.top/EasySelectCourse/CourseSelectionRecommendation/",external:!0},{text:"培养方案",description:"查看模块完成进度",icon:"list",url:"/pages/course-plan/index"},{text:"预选课查询",description:"夫子校园提供技术支持",icon:"checkmarkempty",url:"http://xk.s.fz.z-xin.net/",external:!0},{text:"课表查询",description:"即将推出",icon:"calendar",url:""},{text:"排名查询",description:"即将推出",icon:"medal",url:""},{text:"更多功能",description:"敬请期待",icon:"gear",url:""}]);F((()=>{I()})),w((()=>{I()}));const I=()=>{const e=t("token");if(!e)return s({title:"请先登录",icon:"none"}),void c({url:"/pages/index/index"});try{const t=E(e);B.value=t.sub}catch(l){return console.error("Token解析失败",l),a("token"),s({title:"凭证无效,请重新登录",icon:"none"}),void c({url:"/pages/index/index"})}},L=()=>{s({title:"数据已刷新",icon:"success"}),I()},N=()=>{x({title:"确认退出",content:"确定要退出登录吗？",confirmColor:"#7F4515",success:e=>{e.confirm&&(a("token"),s({title:"已退出登录",icon:"success"}),setTimeout((()=>{c({url:"/pages/index/index"})}),1e3))}})},O=()=>{x({title:"清除缓存",content:"确定要清除所有本地缓存数据吗？这将清除除登录凭证外的所有本地数据。",confirmText:"清除",cancelText:"取消",confirmColor:"#ff4d4f",success:e=>{if(e.confirm)try{const e=t("token");m(),e&&k("token",e),s({title:"缓存已清除",icon:"success",duration:2e3})}catch(c){console.error("清除缓存失败:",c),s({title:"清除缓存失败",icon:"error"})}}})},P=()=>{g({data:"1053432087",success:()=>{s({title:"QQ群号已复制到剪贴板，请自行搜索加群",icon:"success"})},fail:e=>{console.error("复制失败:",e),s({title:"复制失败",icon:"none"})}})},S=()=>{g({data:"1057327742",success:()=>{s({title:"开发交流群号已复制到剪贴板，请自行搜索加群",icon:"success"})},fail:e=>{console.error("复制失败:",e),s({title:"复制失败",icon:"none"})}})},U=()=>{K("用户协议","https://cq4hqujcxu3.feishu.cn/docx/EYE6d5ufAoQt5Axx7MFc4XMrnAf")},D=()=>{K("更新日志","https://cq4hqujcxu3.feishu.cn/docx/BO2od7OI8omtmTxGkB0cn305nFl")},J=()=>{const e="2769731875";x({title:"联系作者",content:"作者QQ号：2769731875\n\n选择操作：",confirmText:"复制QQ号",cancelText:"取消",confirmColor:"#7F4515",success:t=>{t.confirm&&g({data:e,success:()=>{s({title:"QQ号已复制到剪贴板",icon:"success"})}})}})},K=(e,t)=>{window.open(t,"_blank")},R=()=>{s({title:"赞赏码加载失败",icon:"none"})},X=()=>{console.log("赞赏码加载成功")};return(e,t)=>{const c=h,a=b,x=y,m=j(l("uni-icons"),T),k=C;return i(),n(A,null,{default:o((()=>[r(a,{class:"page-rounded-container"},{default:o((()=>[r(M,{class:"profile-card",highlight:""},{default:o((()=>[r(a,{class:"profile-content"},{default:o((()=>[r(a,{class:"avatar-section"},{default:o((()=>[r(a,{class:"avatar-wrapper"},{default:o((()=>[r(c,{class:"avatar",src:"https://pic1.zhimg.com/80/v2-82c1c70c69720aadac79594ea50ed4a7.png",mode:"aspectFit"}),r(a,{class:"status-indicator"})])),_:1})])),_:1}),r(a,{class:"user-info"},{default:o((()=>[r(x,{class:"welcome-text"},{default:o((()=>[u("欢迎回来")])),_:1}),r(x,{class:"user-id"},{default:o((()=>[u(d(B.value),1)])),_:1}),r(x,{class:"user-role"},{default:o((()=>[u("曲园er~")])),_:1})])),_:1})])),_:1})])),_:1}),r(M,{class:"announcement-card"},{default:o((()=>[r(a,{class:"announcement-header"},{default:o((()=>[r(m,{type:"sound",size:"16",color:"#1890ff"}),r(x,{class:"announcement-title"},{default:o((()=>[u("公告栏")])),_:1})])),_:1}),r(x,{class:"announcement-text"},{default:o((()=>[u("该程序正在测试阶段，功能可能不稳定")])),_:1}),r(x,{class:"announcement-text"},{default:o((()=>[u("加入QQ群获取最新消息："),r(x,{class:"qq-link",onClick:P},{default:o((()=>[u("1053432087")])),_:1})])),_:1}),r(x,{class:"announcement-text"},{default:o((()=>[u("如有对Easy-QFNU（曲奇教务）有建议意见或开发想法或其他相关内容的欢迎添加Easy-QFNU开发策划交流群："),r(x,{class:"qq-link",onClick:S},{default:o((()=>[u("1057327742")])),_:1})])),_:1})])),_:1}),r(M,{class:"grid-card"},{default:o((()=>[r(a,{class:"grid-title"},{default:o((()=>[u("核心功能")])),_:1}),r(a,{class:"grid-2x2"},{default:o((()=>[(i(!0),f(_,null,p(G.value,((e,t)=>(i(),n(a,{key:t,class:q(["grid-cell",{disabled:!e.url}]),onClick:e=>(e=>{const t=G.value[e];t.url?t.external?window.open(t.url,"_blank"):Q({url:t.url}):s({title:"功能正在开发中...",icon:"none"})})(t)},{default:o((()=>[r(a,{class:"cell-icon"},{default:o((()=>[r(m,{type:e.icon,size:"30",color:e.url?"#7F4515":"#C0C6CF"},null,8,["type","color"])])),_:2},1024),r(x,{class:"cell-title"},{default:o((()=>[u(d(e.text),1)])),_:2},1024),e.description?(i(),n(x,{key:0,class:"cell-desc"},{default:o((()=>[u(d(e.description),1)])),_:2},1024)):v("",!0)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1}),r(M,{title:"快捷操作"},{default:o((()=>[r(a,{class:"quick-actions"},{default:o((()=>[r(k,{class:"action-btn refresh-btn",onClick:L},{default:o((()=>[r(m,{type:"refresh",size:"20",color:"#ffffff"}),r(x,null,{default:o((()=>[u("刷新数据")])),_:1})])),_:1}),r(k,{class:"action-btn logout-btn",onClick:N},{default:o((()=>[r(m,{type:"closeempty",size:"20",color:"#ffffff"}),r(x,null,{default:o((()=>[u("退出登录")])),_:1})])),_:1}),r(k,{class:"action-btn clear-cache-btn",onClick:O},{default:o((()=>[r(m,{type:"trash",size:"20",color:"#ffffff"}),r(x,null,{default:o((()=>[u("清除缓存")])),_:1})])),_:1}),r(k,{class:"action-btn agreement-btn",onClick:U},{default:o((()=>[r(m,{type:"paperplane",size:"20",color:"#ffffff"}),r(x,null,{default:o((()=>[u("用户协议")])),_:1})])),_:1}),r(k,{class:"action-btn changelog-btn",onClick:D},{default:o((()=>[r(m,{type:"list",size:"20",color:"#ffffff"}),r(x,null,{default:o((()=>[u("更新日志")])),_:1})])),_:1}),r(k,{class:"action-btn contact-btn",onClick:J},{default:o((()=>[r(m,{type:"chatbubble",size:"20",color:"#ffffff"}),r(x,null,{default:o((()=>[u("联系作者")])),_:1})])),_:1})])),_:1})])),_:1}),r(M,{title:"支持开发",class:"support-card"},{default:o((()=>[r(a,{class:"support-content"},{default:o((()=>[r(a,{class:"support-text"},{default:o((()=>[r(x,{class:"support-title"},{default:o((()=>[u("助力项目发展")])),_:1}),r(x,{class:"support-desc"},{default:o((()=>[u("本服务完全免费试用，服务器每日支出约为7元左右，以及前期服务器设备等支出几百依赖作者个人支出。如果想支持作者助力开发维护，欢迎赞赏~")])),_:1})])),_:1}),r(a,{class:"qr-code-container"},{default:o((()=>[r(c,{class:"qr-code",src:"https://picx.zhimg.com/80/v2-076422270c197b0031c609e47be2e36c_720w.png?source=d16d100b",mode:"aspectFit",onError:R,onLoad:X}),r(x,{class:"qr-code-label"},{default:o((()=>[u("微信赞赏")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-a4e77df7"]]);export{B as default};
