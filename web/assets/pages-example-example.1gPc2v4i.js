import{B as e,Z as a,a4 as t,D as s,f as l,E as n,u as o,H as c,G as i,r,c as u,w as d,o as f,a as p,b as _,d as m,i as y,A as g}from"./index-IhNxAD7G.js";import{_ as b,o as k,b as v,r as h,a as x}from"./uni-icons.By34-GEG.js";import{P as j}from"./PageLayout.Bgrs46Iu.js";import{M as w}from"./ModernCard.CKE8hxFp.js";import{L as C,E}from"./EmptyState.BudcrqLB.js";const z=b({__name:"example",setup(b){const z=e(!0),B=e(null),L=a((()=>!!B.value));function A(){return!!s("token")||(l({title:"请先登录",icon:"none"}),n({url:"/pages/index/index"}),!1)}async function D(){z.value=!0;const e=s("token"),a=o().globalData.apiBaseURL;try{const{statusCode:t,data:s}=await c({url:`${a}/api/v1/your-endpoint`,method:"GET",header:{Authorization:"Bearer "+e}});200!==t||!s.success&&200!==s.code?401===t?(i("token"),l({title:"登录已过期，请重新登录",icon:"none"}),setTimeout((()=>n({url:"/pages/index/index"})),1500)):(l({title:s.detail||s.message||"获取数据失败",icon:"none"}),B.value=null):B.value=s.data||s.result||{}}catch(t){console.error("请求失败",t),l({title:"网络连接失败",icon:"none"}),B.value=null}finally{z.value=!1}}function G(){l({title:"已执行主操作",icon:"success"})}function M(){D()}return k((()=>{A()&&(t({title:"新功能页面标题"}),D())})),v((()=>{A()})),(e,a)=>{const t=m,s=y,l=h(r("uni-icons"),x),n=g;return f(),u(j,null,{default:d((()=>[z.value?(f(),u(C,{key:0,text:"正在加载数据..."})):(f(),u(t,{key:1,class:"page-container page-rounded-container"},{default:d((()=>[p(t,{class:"background-decoration"},{default:d((()=>[p(t,{class:"circle circle-1"}),p(t,{class:"circle circle-2"}),p(t,{class:"circle circle-3"})])),_:1}),p(t,{class:"page-header"},{default:d((()=>[p(t,{class:"header-content"},{default:d((()=>[p(s,{class:"page-title"},{default:d((()=>[_("新功能页面标题")])),_:1}),p(s,{class:"page-subtitle"},{default:d((()=>[_("New Feature Subtitle")])),_:1})])),_:1})])),_:1}),p(t,{class:"content-wrapper"},{default:d((()=>[L.value?(f(),u(t,{key:1},{default:d((()=>[p(w,{title:"示例卡片"},{default:d((()=>[p(t,{class:"card-section"},{default:d((()=>[p(s,{class:"section-title"},{default:d((()=>[_("数据概览")])),_:1}),p(s,{class:"section-desc"},{default:d((()=>[_("这里放置你的数据摘要或图表")])),_:1})])),_:1})])),_:1}),p(w,{title:"操作"},{default:d((()=>[p(t,{class:"button-group"},{default:d((()=>[p(n,{class:"action-btn primary-btn",onClick:G},{default:d((()=>[p(l,{type:"paperplane",size:"20",color:"#fff"}),p(s,null,{default:d((()=>[_("主操作")])),_:1})])),_:1}),p(n,{class:"action-btn secondary-btn",onClick:M},{default:d((()=>[p(l,{type:"refresh",size:"20",color:"#495057"}),p(s,null,{default:d((()=>[_("次要操作")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):(f(),u(E,{key:0,"icon-type":"info-filled",title:"暂无数据",description:"请检查网络或稍后重试","show-retry":!0,onRetry:D}))])),_:1})])),_:1}))])),_:1})}}},[["__scopeId","data-v-5a211ad6"]]);export{z as default};
