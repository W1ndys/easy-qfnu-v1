var e=Object.defineProperty,s=(s,a,t)=>(((s,a,t)=>{a in s?e(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t})(s,"symbol"!=typeof a?a+"":a,t),t);import{o as a,c as t,w as l,a as o,b as u,t as c,m as r,O as d,F as i,k as n,i as f,d as m,T as p,r as _,h as g,U as C,V as y,W as h,X as v,A,Y as k,D as G,K as b,G as x,u as P,J as E,f as M,E as S,B as w,Z as N}from"./index-BSMsiDgV.js";import{L as T}from"./LoadingScreen.1b11xFXN.js";import{_ as R,r as j,a as $,o as H,b as K}from"./uni-icons.BpK-xJsu.js";import{E as O}from"./EmptyState.DF-hGEOb.js";import{P as L}from"./PageLayout.MRbam6F0.js";import{d as F}from"./jwt-decode.3jgMzty2.js";const I=R({name:"GPAAnalysis",props:{gpaAnalysis:{type:Object,default:null},effectiveGpa:{type:Object,default:null},totalCourses:{type:Number,default:0},yearlyGpa:{type:Object,default:null},semesterGpa:{type:Object,default:null}}},[["render",function(e,s,p,_,g,C){const y=f,h=m;return p.gpaAnalysis?(a(),t(h,{key:0,class:"analysis-container"},{default:l((()=>[o(h,{class:"main-gpa-section"},{default:l((()=>[o(h,{class:"gpa-item"},{default:l((()=>[o(y,{class:"gpa-value"},{default:l((()=>{var e,s;return[u(c((null==(s=null==(e=p.gpaAnalysis)?void 0:e.weighted_gpa)?void 0:s.toFixed(2))||"N/A"),1)]})),_:1}),o(y,{class:"gpa-label"},{default:l((()=>[u("æ€»åŠ æƒå¹³å‡GPA")])),_:1})])),_:1}),o(h,{class:"gpa-item"},{default:l((()=>[o(y,{class:"gpa-value"},{default:l((()=>{var e,s;return[u(c((null==(s=null==(e=p.effectiveGpa)?void 0:e.weighted_gpa)?void 0:s.toFixed(2))||"N/A"),1)]})),_:1}),o(y,{class:"gpa-label"},{default:l((()=>[u("æœ‰æ•ˆGPA (å»é‡ä¿®)")])),_:1})])),_:1}),o(h,{class:"gpa-item"},{default:l((()=>[o(y,{class:"gpa-value"},{default:l((()=>[u(c(p.totalCourses||0),1)])),_:1}),o(y,{class:"gpa-label"},{default:l((()=>[u("æ€»è¯¾ç¨‹æ•°")])),_:1})])),_:1})])),_:1}),o(h,{class:"detailed-gpa-section"},{default:l((()=>[o(h,{class:"section-header"},{default:l((()=>[o(y,{class:"section-title"},{default:l((()=>[u("è¯¦ç»†GPAåˆ†å¸ƒ")])),_:1})])),_:1}),o(h,{class:"details-flex-container"},{default:l((()=>[p.yearlyGpa&&Object.keys(p.yearlyGpa).length>0?(a(!0),r(i,{key:0},d(p.yearlyGpa,((e,s)=>(a(),t(h,{key:s,class:"detail-item-flex"},{default:l((()=>[o(y,{class:"detail-label"},{default:l((()=>[u(c(s)+"å­¦å¹´",1)])),_:2},1024),o(y,{class:"detail-sub-info"},{default:l((()=>[u(c(e.course_count)+"é—¨ / "+c(e.total_credit.toFixed(1))+"å­¦åˆ†",1)])),_:2},1024),o(y,{class:"detail-value"},{default:l((()=>[u(c(e.weighted_gpa.toFixed(2)),1)])),_:2},1024)])),_:2},1024)))),128)):n("",!0),p.semesterGpa&&Object.keys(p.semesterGpa).length>0?(a(!0),r(i,{key:1},d(p.semesterGpa,((e,s)=>(a(),t(h,{key:s,class:"detail-item-flex"},{default:l((()=>[o(y,{class:"detail-label"},{default:l((()=>[u(c(s),1)])),_:2},1024),o(y,{class:"detail-sub-info"},{default:l((()=>[u(c(e.course_count)+"é—¨ / "+c(e.total_credit.toFixed(1))+"å­¦åˆ†",1)])),_:2},1024),o(y,{class:"detail-value"},{default:l((()=>[u(c(e.weighted_gpa.toFixed(2)),1)])),_:2},1024)])),_:2},1024)))),128)):n("",!0)])),_:1})])),_:1})])),_:1})):n("",!0)}],["__scopeId","data-v-32ec32d9"]]);const B=R({name:"CustomToggle",props:{isCustomMode:{type:Boolean,default:!1}},emits:["toggle"],setup:(e,{emit:s})=>({handleToggle:e=>{s("toggle",e.detail.value)}})},[["render",function(e,s,c,r,d,i){const _=f,g=m,C=p;return a(),t(g,null,{default:l((()=>[o(g,{class:"custom-gpa-toggle-section"},{default:l((()=>[o(g,{class:"toggle-left"},{default:l((()=>[o(_,{class:"toggle-title"},{default:l((()=>[u("è‡ªå®šä¹‰GPAè®¡ç®—")])),_:1}),o(_,{class:"toggle-desc"},{default:l((()=>[u("å‹¾é€‰è¯¾ç¨‹ä»¥è®¡ç®—ç‰¹å®šGPA")])),_:1})])),_:1}),o(C,{checked:c.isCustomMode,onChange:r.handleToggle,color:"#7F4515"},null,8,["checked","onChange"])])),_:1}),c.isCustomMode?(a(),t(g,{key:0,class:"custom-mode-tip"},{default:l((()=>[o(g,{class:"tip-icon"},{default:l((()=>[u("ğŸ’¡")])),_:1}),o(_,{class:"tip-text"},{default:l((()=>[u("è¯·å‹¾é€‰ **éœ€è¦è®¡å…¥** GPAçš„è¯¾ç¨‹")])),_:1})])),_:1})):n("",!0)])),_:1})}],["__scopeId","data-v-57892f29"]]);const D=R({name:"CourseList",props:{semesters:{type:Array,default:()=>[]},isCustomMode:{type:Boolean,default:!1},selectedCourses:{type:Array,default:()=>[]},expandedCourses:{type:Set,default:()=>new Set}},emits:["courseClick"],setup:(e,{emit:s})=>({isCourseSelected:s=>e.selectedCourses.includes(s),isCourseExpanded:s=>e.expandedCourses.has(s),getScoreClass:e=>{const s=parseFloat(e);return isNaN(s)?"score-text-grade":s>=90?"score-high":s>=75?"score-mid":s>=60?"score-low":"score-fail"}})},[["render",function(e,s,p,v,A,k){const G=f,b=m,x=j(_("uni-icons"),$);return a(),t(b,{class:"grades-list-container"},{default:l((()=>[(a(!0),r(i,null,d(p.semesters,(s=>(a(),t(b,{key:s.semesterName,class:"semester-block"},{default:l((()=>[o(b,{class:"semester-header"},{default:l((()=>[o(G,{class:"semester-name"},{default:l((()=>[u(c(s.semesterName),1)])),_:2},1024)])),_:2},1024),o(b,{class:"courses-list"},{default:l((()=>[(a(!0),r(i,null,d(s.grades,(s=>(a(),t(b,{key:s.index,class:g(["course-card",{"is-custom-mode":p.isCustomMode,"is-selected":v.isCourseSelected(s.index)}])},{default:l((()=>[o(b,{class:"course-main",onClick:a=>e.$emit("courseClick",s)},{default:l((()=>[p.isCustomMode?(a(),t(b,{key:0,class:"course-checkbox-wrapper"},{default:l((()=>[o(b,{class:g(["checkbox-inner",{checked:v.isCourseSelected(s.index)}])},null,8,["class"])])),_:2},1024)):n("",!0),o(b,{class:"course-core-info"},{default:l((()=>[o(G,{class:"course-name"},{default:l((()=>[u(c(s.courseName),1)])),_:2},1024),o(b,{class:"course-meta"},{default:l((()=>[o(b,{class:"meta-tag credit"},{default:l((()=>[u("å­¦åˆ†: "+c(s.credit),1)])),_:2},1024),o(b,{class:"meta-tag gpa"},{default:l((()=>[u("ç»©ç‚¹: "+c(s.gpa),1)])),_:2},1024),s.courseAttribute?(a(),t(b,{key:0,class:"meta-tag attribute"},{default:l((()=>[u(c(s.courseAttribute),1)])),_:2},1024)):n("",!0)])),_:2},1024)])),_:2},1024),o(b,{class:"course-side"},{default:l((()=>[o(b,{class:"course-score"},{default:l((()=>[o(G,{class:g(["score-text",v.getScoreClass(s.score)])},{default:l((()=>[u(c(s.score),1)])),_:2},1032,["class"]),s.scoreTag?(a(),t(G,{key:0,class:"score-tag"},{default:l((()=>[u(c(s.scoreTag),1)])),_:2},1024)):n("",!0)])),_:2},1024),o(b,{class:g(["expand-icon",{expanded:v.isCourseExpanded(s.index)}])},{default:l((()=>[o(x,{type:"down",size:"16",color:"#868e96"})])),_:2},1032,["class"])])),_:2},1024)])),_:2},1032,["onClick"]),o(C,{name:"course-details"},{default:l((()=>[y(o(b,{class:"course-details"},{default:l((()=>[o(b,{class:"detail-grid"},{default:l((()=>[o(b,{class:"detail-item"},{default:l((()=>[o(G,{class:"detail-label"},{default:l((()=>[u("è¯¾ç¨‹ä»£ç ")])),_:1}),o(G,{class:"detail-value"},{default:l((()=>[u(c(s.courseCode),1)])),_:2},1024)])),_:2},1024),o(b,{class:"detail-item"},{default:l((()=>[o(G,{class:"detail-label"},{default:l((()=>[u("æ€»å­¦æ—¶")])),_:1}),o(G,{class:"detail-value"},{default:l((()=>[u(c(s.totalHours),1)])),_:2},1024)])),_:2},1024),o(b,{class:"detail-item"},{default:l((()=>[o(G,{class:"detail-label"},{default:l((()=>[u("è¯¾ç¨‹æ€§è´¨")])),_:1}),o(G,{class:"detail-value"},{default:l((()=>[u(c(s.courseNature),1)])),_:2},1024)])),_:2},1024),o(b,{class:"detail-item"},{default:l((()=>[o(G,{class:"detail-label"},{default:l((()=>[u("è¯¾ç¨‹ç±»åˆ«")])),_:1}),o(G,{class:"detail-value"},{default:l((()=>[u(c(s.courseCategory),1)])),_:2},1024)])),_:2},1024),o(b,{class:"detail-item"},{default:l((()=>[o(G,{class:"detail-label"},{default:l((()=>[u("è€ƒæ ¸æ–¹å¼")])),_:1}),o(G,{class:"detail-value"},{default:l((()=>[u(c(s.assessmentMethod),1)])),_:2},1024)])),_:2},1024),o(b,{class:"detail-item"},{default:l((()=>[o(G,{class:"detail-label"},{default:l((()=>[u("è€ƒè¯•ç±»å‹")])),_:1}),o(G,{class:"detail-value"},{default:l((()=>[u(c(s.examType),1)])),_:2},1024)])),_:2},1024),s.groupName?(a(),t(b,{key:0,class:"detail-item"},{default:l((()=>[o(G,{class:"detail-label"},{default:l((()=>[u("è¯¾ç¨‹åˆ†ç»„")])),_:1}),o(G,{class:"detail-value"},{default:l((()=>[u(c(s.groupName),1)])),_:2},1024)])),_:2},1024)):n("",!0),s.retakeSemester?(a(),t(b,{key:1,class:"detail-item"},{default:l((()=>[o(G,{class:"detail-label"},{default:l((()=>[u("é‡ä¿®å­¦æœŸ")])),_:1}),o(G,{class:"detail-value"},{default:l((()=>[u(c(s.retakeSemester),1)])),_:2},1024)])),_:2},1024)):n("",!0)])),_:2},1024)])),_:2},1536),[[h,v.isCourseExpanded(s.index)]])])),_:2},1024)])),_:2},1032,["class"])))),128))])),_:2},1024)])),_:2},1024)))),128))])),_:1})}],["__scopeId","data-v-e23a1657"]]);const Y=R({name:"CustomFooter",props:{isCustomMode:{type:Boolean,default:!1},customGPAResult:{type:Object,default:null},selectedCourses:{type:Array,default:()=>[]},allCourses:{type:Array,default:()=>[]},isCalculating:{type:Boolean,default:!1}},emits:["clearResult","selectAll","clearSelection","calculate"],setup:(e,{emit:s})=>({selectionInfoText:v((()=>`å·²é€‰ ${e.selectedCourses.length} / ${e.allCourses.length} é—¨`)),isCalculateDisabled:v((()=>e.isCalculating||0===e.selectedCourses.length))})},[["render",function(e,s,r,d,i,p){const _=f,g=m,C=A;return r.isCustomMode?(a(),t(g,{key:0,class:"custom-gpa-footer"},{default:l((()=>[r.customGPAResult?(a(),t(g,{key:0,class:"result-display-card"},{default:l((()=>[o(g,{class:"result-header"},{default:l((()=>[o(_,{class:"result-title"},{default:l((()=>[u("è‡ªå®šä¹‰è®¡ç®—ç»“æœ")])),_:1}),o(_,{class:"close-result-btn",onClick:s[0]||(s[0]=s=>e.$emit("clearResult"))},{default:l((()=>[u("å…³é—­")])),_:1})])),_:1}),o(g,{class:"result-content"},{default:l((()=>[o(g,{class:"result-gpa"},{default:l((()=>[o(_,{class:"gpa-value"},{default:l((()=>{var e;return[u(c((null==(e=r.customGPAResult.weighted_gpa)?void 0:e.toFixed(2))||"0.00"),1)]})),_:1}),o(_,{class:"gpa-label"},{default:l((()=>[u("åŠ æƒå¹³å‡GPA")])),_:1})])),_:1}),o(g,{class:"result-stats"},{default:l((()=>[o(g,{class:"stat-item"},{default:l((()=>[o(_,{class:"stat-value"},{default:l((()=>[u(c(r.customGPAResult.total_credit||0),1)])),_:1}),o(_,{class:"stat-label"},{default:l((()=>[u("æ€»å­¦åˆ†")])),_:1})])),_:1}),o(g,{class:"stat-item"},{default:l((()=>[o(_,{class:"stat-value"},{default:l((()=>[u(c(r.customGPAResult.course_count||0),1)])),_:1}),o(_,{class:"stat-label"},{default:l((()=>[u("è¯¾ç¨‹æ•°")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):n("",!0),o(g,{class:"footer-actions"},{default:l((()=>[o(g,{class:"selection-info"},{default:l((()=>[o(_,{class:"info-text"},{default:l((()=>[u(c(d.selectionInfoText),1)])),_:1}),o(g,{class:"actions"},{default:l((()=>[o(_,{class:"action-btn",onClick:s[1]||(s[1]=s=>e.$emit("selectAll"))},{default:l((()=>[u("å…¨é€‰")])),_:1}),o(_,{class:"action-btn",onClick:s[2]||(s[2]=s=>e.$emit("clearSelection"))},{default:l((()=>[u("æ¸…ç©º")])),_:1})])),_:1})])),_:1}),o(C,{class:"calculate-btn",onClick:s[3]||(s[3]=s=>e.$emit("calculate")),disabled:d.isCalculateDisabled},{default:l((()=>[u(c(r.isCalculating?"è®¡ç®—ä¸­...":"è®¡ç®—è‡ªå®šä¹‰GPA"),1)])),_:1},8,["disabled"])])),_:1})])),_:1})):n("",!0)}],["__scopeId","data-v-e83b23ee"]]);const U=R({name:"NoticeModal",props:{showModal:{type:Boolean,default:!1}},emits:["close"]},[["render",function(e,s,c,r,d,i){const p=f,_=m,g=A;return a(),t(C,{name:"modal"},{default:l((()=>[c.showModal?(a(),t(_,{key:0,class:"modal-overlay",onClick:s[1]||(s[1]=k((s=>e.$emit("close")),["self"]))},{default:l((()=>[o(_,{class:"modal-container"},{default:l((()=>[o(_,{class:"modal-header"},{default:l((()=>[o(p,{class:"modal-title"},{default:l((()=>[u("æç¤º")])),_:1})])),_:1}),o(_,{class:"modal-content"},{default:l((()=>[o(p,null,{default:l((()=>[u(" å› ä¸åŒä¸“ä¸šæˆ–ä¸åŒç›®æ ‡é™¢æ ¡çš„è¦æ±‚ä¸åŒï¼Œä¿ç ”æ‰€éœ€è¦çš„ç»©ç‚¹è¦æ±‚ä¸åŒï¼Œå¦‚æœ‰éœ€æ±‚ï¼Œè¯·å‰å¾€åº•éƒ¨è‡ªå®šä¹‰GPAè®¡ç®—è‡ªè¡Œè®¡ç®— ")])),_:1})])),_:1}),o(_,{class:"modal-footer"},{default:l((()=>[o(g,{class:"modal-btn",onClick:s[0]||(s[0]=s=>e.$emit("close"))},{default:l((()=>[u("æˆ‘å·²çŸ¥æ™“")])),_:1})])),_:1})])),_:1})])),_:1})):n("",!0)])),_:1})}],["__scopeId","data-v-72242363"]]);class J{static getCurrentUserKey(){const e=G("token");if(!e)return null;try{const s=F(e);return s.sub||s.user_id||s.id||e.substring(0,32)}catch(s){return e.substring(0,32)}}static save(e){try{const s=this.getCurrentUserKey();if(!s)return void console.warn("æ— æ³•è·å–ç”¨æˆ·æ ‡è¯†ï¼Œè·³è¿‡ç¼“å­˜");const a={profile:e,timestamp:Date.now(),version:"1.1",userKey:s,tokenHash:this.getTokenHash()};b(this.CACHE_KEY,JSON.stringify(a))}catch(s){console.error("ç¼“å­˜ä¸ªäººä¿¡æ¯å¤±è´¥",s)}}static getTokenHash(){const e=G("token");if(!e)return null;let s=0;for(let a=0;a<e.length;a++){s=(s<<5)-s+e.charCodeAt(a),s&=s}return s.toString()}static get(){try{const e=G(this.CACHE_KEY);if(!e)return null;const s=JSON.parse(e);return this.isExpired(s.timestamp)||this.userKeyChanged(s)||this.tokenChanged(s)?(this.clear(),null):s.profile}catch(e){return this.clear(),null}}static isExpired(e){return Date.now()-e>this.CACHE_EXPIRE_TIME}static userKeyChanged(e){return e.userKey!==this.getCurrentUserKey()}static tokenChanged(e){return e.tokenHash&&e.tokenHash!==this.getTokenHash()}static isValid(){const e=G(this.CACHE_KEY);if(!e)return!1;try{const s=JSON.parse(e);return!this.isExpired(s.timestamp)&&!this.userKeyChanged(s)&&!this.tokenChanged(s)}catch{return!1}}static clear(){x(this.CACHE_KEY)}static clearAll(){x(this.CACHE_KEY)}}s(J,"CACHE_KEY","user_profile_cache"),s(J,"CACHE_EXPIRE_TIME",18e5);const Q=()=>J.get(),z=()=>J.isValid(),V=()=>(Q()||{}).student_id,X=()=>(Q()||{}).student_name;const W=R({name:"Grades",components:{PageLayout:L,LoadingScreen:T,EmptyState:O,GPAAnalysis:I,CustomToggle:B,CourseList:D,CustomFooter:Y,NoticeModal:U},setup(){const e=w(!0),s=w([]),a=w(null),t=w(null),l=w(null),o=w(null),u=w(0),c=w([]),r=w(!1),d=w([]),i=w(!1),n=w(null),f=w(new Set),m=w(!1),p=v((()=>0===s.value.length)),_=v((()=>`å·²é€‰ ${d.value.length} / ${c.value.length} é—¨`)),g=v((()=>i.value||0===d.value.length));H((()=>{C(),setTimeout((()=>{(s.value.length>0||!e.value)&&(m.value=!0)}),500),console.log("ç”¨æˆ·è¿›å…¥æˆç»©åˆ†æé¡µé¢")})),K((()=>{G("token")||(M({title:"è¯·å…ˆç™»å½•",icon:"none"}),S({url:"/pages/index/index"}))}));const C=()=>{(G("token")||(M({title:"è¯·å…ˆç™»å½•",icon:"none"}),S({url:"/pages/index/index"}),0))&&y()},y=async()=>{e.value=!0;try{const r=await(async()=>{const e=`${P().globalData.apiBaseURL}/api/v1/grades`;if(z()){const e=V(),s=X();console.log(`æ­£åœ¨ä¸ºå­¦ç”Ÿ ${s}(${e}) è·å–æˆç»©æ•°æ®`)}try{const{statusCode:s,data:a}=await E({url:e,method:"GET",header:{Authorization:"Bearer "+G("token")}});return 200===s&&a.success?{success:!0,data:{allCourses:a.data||[],gpaAnalysis:a.basic_gpa,semesterGpa:a.semester_gpa,yearlyGpa:a.yearly_gpa,effectiveGpa:a.effective_gpa}}:401===s?(x("token"),M({title:"ç™»å½•å·²è¿‡æœŸï¼Œè¯·é‡æ–°ç™»å½•",icon:"none"}),setTimeout((()=>S({url:"/pages/index/index"})),1500),{success:!1,error:"ç™»å½•å·²è¿‡æœŸ"}):(M({title:a.detail||"è·å–æˆç»©å¤±è´¥",icon:"none"}),{success:!1,error:a.detail||"è·å–æˆç»©å¤±è´¥"})}catch(s){return console.error("è¯·æ±‚å¤±è´¥",s),M({title:"æœåŠ¡å™¨è¿æ¥å¤±è´¥ï¼Œè¯·å‰å¾€QQç¾¤æŸ¥çœ‹æ˜¯å¦æœ‰æ–°é€šçŸ¥",icon:"none"}),{success:!1,error:"æœåŠ¡å™¨è¿æ¥å¤±è´¥ï¼Œè¯·å‰å¾€QQç¾¤æŸ¥çœ‹æ˜¯å¦æœ‰æ–°é€šçŸ¥"}}})();r.success&&(c.value=r.data.allCourses,s.value=(e=>{if(!e||0===e.length)return[];const s=e.reduce(((e,s)=>((e[s.semester]=e[s.semester]||[]).push(s),e)),{});return Object.keys(s).map((e=>({semesterName:e,grades:s[e]}))).sort(((e,s)=>s.semesterName.localeCompare(e.semesterName)))})(c.value),a.value=r.data.gpaAnalysis,t.value=r.data.semesterGpa,l.value=r.data.yearlyGpa,o.value=r.data.effectiveGpa,u.value=c.value.length)}finally{e.value=!1}},h=e=>{const s=d.value.indexOf(e);s>-1?d.value.splice(s,1):d.value.push(e),k()},A=()=>{d.value=[],k()},k=()=>{n.value=null};return{isLoading:e,semesters:s,gpaAnalysis:a,semesterGpa:t,yearlyGpa:l,effectiveGpa:o,totalCourses:u,allCourses:c,isCustomMode:r,selectedCourses:d,isCalculating:i,customGPAResult:n,expandedCourses:f,showNoticeModal:m,isEmpty:p,selectionInfoText:_,isCalculateDisabled:g,fetchGrades:y,handleCourseClick:e=>{var s;r.value?h(e.index):(s=e.index,f.value.has(s)?f.value.delete(s):f.value.add(s))},closeNoticeModal:()=>{m.value=!1},toggleCustomMode:e=>{r.value=e,r.value||(A(),k())},selectAllCourses:()=>{d.value=c.value.map((e=>e.index)),k()},clearSelection:A,calculateCustomGPA:async()=>{if(0!==d.value.length){i.value=!0;try{const e=await(async e=>{const s=`${P().globalData.apiBaseURL}/api/v1/gpa/calculate`,a={include_indices:e.map(String),remove_retakes:!0};if(z()){const e=V();console.log(`æ­£åœ¨ä¸ºå­¦ç”Ÿ ${e} è®¡ç®—è‡ªå®šä¹‰GPA`)}try{const{statusCode:e,data:t}=await E({url:s,method:"POST",header:{Authorization:"Bearer "+G("token"),"Content-Type":"application/json"},data:a});return 200===e&&t.success?(M({title:"GPAè®¡ç®—å®Œæˆ",icon:"success"}),{success:!0,data:t.data}):(M({title:t.detail||"GPAè®¡ç®—å¤±è´¥",icon:"none"}),{success:!1,error:t.detail||"GPAè®¡ç®—å¤±è´¥"})}catch(t){return console.error("GPAè®¡ç®—è¯·æ±‚å¤±è´¥",t),M({title:"ç½‘ç»œè¿æ¥å¤±è´¥",icon:"none"}),{success:!1,error:"ç½‘ç»œè¿æ¥å¤±è´¥"}}})(d.value);e.success&&(n.value=e.data)}finally{i.value=!1}}else M({title:"è¯·è‡³å°‘é€‰æ‹©ä¸€é—¨è¯¾ç¨‹",icon:"none"})},clearCustomResult:k}}},[["render",function(e,s,u,c,r,d){const i=j(_("LoadingScreen"),T),n=m,f=j(_("EmptyState"),O),p=N("GPAAnalysis"),g=N("CustomToggle"),C=N("CourseList"),y=N("CustomFooter"),h=N("NoticeModal"),v=j(_("PageLayout"),L);return a(),t(v,null,{default:l((()=>[c.isLoading?(a(),t(i,{key:0,text:"æ­£åœ¨ä»æ•™åŠ¡ç³»ç»ŸåŒæ­¥æˆç»©..."})):(a(),t(n,{key:1,class:"page-container page-rounded-container"},{default:l((()=>[o(n,{class:"background-decoration"},{default:l((()=>[o(n,{class:"circle circle-1"}),o(n,{class:"circle circle-2"}),o(n,{class:"circle circle-3"})])),_:1}),o(n,{class:"content-wrapper"},{default:l((()=>[c.isEmpty?(a(),t(f,{key:0,"icon-type":"info-filled",title:"æ²¡æœ‰æŸ¥è¯¢åˆ°ä»»ä½•æˆç»©è®°å½•",description:"è¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æˆ–ç¨åé‡è¯•","show-retry":!0,onRetry:c.fetchGrades},null,8,["onRetry"])):(a(),t(n,{key:1},{default:l((()=>[o(p,{gpaAnalysis:c.gpaAnalysis,effectiveGpa:c.effectiveGpa,totalCourses:c.totalCourses,yearlyGpa:c.yearlyGpa,semesterGpa:c.semesterGpa},null,8,["gpaAnalysis","effectiveGpa","totalCourses","yearlyGpa","semesterGpa"]),o(g,{isCustomMode:c.isCustomMode,onToggle:c.toggleCustomMode},null,8,["isCustomMode","onToggle"]),o(C,{semesters:c.semesters,isCustomMode:c.isCustomMode,selectedCourses:c.selectedCourses,expandedCourses:c.expandedCourses,onCourseClick:c.handleCourseClick},null,8,["semesters","isCustomMode","selectedCourses","expandedCourses","onCourseClick"])])),_:1}))])),_:1})])),_:1})),o(y,{isCustomMode:c.isCustomMode,customGPAResult:c.customGPAResult,selectedCourses:c.selectedCourses,allCourses:c.allCourses,isCalculating:c.isCalculating,onClearResult:c.clearCustomResult,onSelectAll:c.selectAllCourses,onClearSelection:c.clearSelection,onCalculate:c.calculateCustomGPA},null,8,["isCustomMode","customGPAResult","selectedCourses","allCourses","isCalculating","onClearResult","onSelectAll","onClearSelection","onCalculate"]),o(h,{showModal:c.showNoticeModal,onClose:c.closeNoticeModal},null,8,["showModal","onClose"])])),_:1})}],["__scopeId","data-v-24dedbc4"]]);export{W as default};
