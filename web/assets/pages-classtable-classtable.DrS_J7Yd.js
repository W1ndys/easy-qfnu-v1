import{B as e,Z as t,r as a,o as s,c as l,w as o,a as r,b as n,t as u,L as c,j as i,k as d,h as f,d as _,i as m,M as y,a8 as p,a6 as v,m as g,F as k,N as h,H as w,D as b,J as D,u as C,G as S,E as $,a4 as T,f as x,_ as z,A as E}from"./index-_QYPb98c.js";import{_ as M,r as I,a as j,o as L,b as A}from"./uni-icons.BSPaR5S5.js";import{P as N}from"./PageLayout.C9Srj6V_.js";import{M as Y}from"./ModernCard.Ci6orqDY.js";import{L as R,E as U}from"./EmptyState.DHOmvzur.js";const F=M({__name:"CourseCard",props:{course:{type:Object,default:null},currentTime:{type:String,default:""}},emits:["click"],setup(e,{emit:y}){const p=e,v=y,{timeDisplay:g,cardStyle:k,getTypeTagStyle:h,formatClassName:w,formatLocation:b}=function(e){return{timeDisplay:t((()=>{var t;if(!(null==(t=e.course)?void 0:t.time_info))return"";const{period_name:a,start_time:s,end_time:l,time_slots:o}=e.course.time_info;return`${a} ${s}-${l}`})),cardStyle:t((()=>({background:"#ffffff",borderLeft:"4rpx solid #d4b896"}))),getTypeTagStyle:e=>({"必修":{background:"#ffebee",color:"#c62828"},"选修":{background:"#fff3e0",color:"#ef6c00"},"任选":{background:"#f3e5f5",color:"#7b1fa2"},"限选":{background:"#fff3e0",color:"#f57c00"},"实践":{background:"#e8f5e8",color:"#2e7d32"},"通识":{background:"#e3f2fd",color:"#1565c0"}}[e]||{background:"#f5f5f5",color:"#757575"}),formatClassName:e=>e?e.length>20?e.substring(0,20)+"...":e:"",formatLocation:e=>e?e.trim().replace(/\s+/g," "):""}}(p),D=t((()=>{var e;if(!(null==(e=p.course)?void 0:e.time_info)||!p.currentTime)return"";const{start_time:t,end_time:a}=p.course.time_info,s=p.currentTime;if(s>=t&&s<=a)return"current";if(s<t){const e=C(t),a=C(s);if(e-a<=30&&e-a>0)return"upcoming"}else if(s>a)return"finished";return""})),C=e=>{const[t,a]=e.split(":").map(Number);return 60*t+a},S=()=>{p.course&&v("click",p.course)};return(t,y)=>{const p=_,v=I(a("uni-icons"),j),C=m;return e.course?(s(),l(p,{key:0,class:f(["course-card",D.value]),style:i(c(k)),onClick:S},{default:o((()=>[r(p,{class:"course-header"},{default:o((()=>[r(p,{class:"course-title"},{default:o((()=>[n(u(e.course.name),1)])),_:1}),r(p,{class:"course-meta"},{default:o((()=>[r(p,{class:"time-info"},{default:o((()=>[r(v,{type:"clock",size:"16",color:"rgba(127,69,21,0.7)"}),r(C,null,{default:o((()=>[n(u(c(g)),1)])),_:1})])),_:1}),r(p,{class:"course-type-tag",style:i(c(h)(e.course.course_type))},{default:o((()=>[n(u(e.course.course_type),1)])),_:1},8,["style"])])),_:1})])),_:1}),r(p,{class:"course-body"},{default:o((()=>[r(p,{class:"course-details"},{default:o((()=>[r(p,{class:"detail-row"},{default:o((()=>[r(p,{class:"detail-icon"},{default:o((()=>[r(v,{type:"location",size:"16",color:"#6c757d"})])),_:1}),r(C,{class:"detail-text location"},{default:o((()=>[n(u(c(b)(e.course.location)),1)])),_:1})])),_:1}),e.course.class_name?(s(),l(p,{key:0,class:"detail-row"},{default:o((()=>[r(p,{class:"detail-icon"},{default:o((()=>[r(v,{type:"home",size:"16",color:"#495057"})])),_:1}),r(C,{class:"detail-text class-name"},{default:o((()=>[n(u(c(w)(e.course.class_name)),1)])),_:1})])),_:1})):d("",!0)])),_:1}),e.course.credits?(s(),l(p,{key:0,class:"credits-info"},{default:o((()=>[r(p,{class:"credits-label"},{default:o((()=>[r(v,{type:"star",size:"14",color:"#6c757d"}),r(C,null,{default:o((()=>[n("学分")])),_:1})])),_:1}),r(C,{class:"credits-value"},{default:o((()=>[n(u(e.course.credits),1)])),_:1})])),_:1})):d("",!0)])),_:1})])),_:1},8,["class","style"])):(s(),l(p,{key:1,class:"empty-course-card"},{default:o((()=>[r(p,{class:"empty-icon"},{default:o((()=>[r(v,{type:"calendar",size:"32",color:"#adb5bd"})])),_:1}),r(p,{class:"empty-title"},{default:o((()=>[n("暂无课程")])),_:1}),r(p,{class:"empty-desc"},{default:o((()=>[n("今天没有安排课程，好好休息吧！")])),_:1})])),_:1}))}}},[["__scopeId","data-v-c74f98c0"]]),H=M({__name:"DaySchedule",props:{selectedDate:{type:String,required:!0},courses:{type:Array,default:()=>[]},timeSlots:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["course-click"],setup(i,{emit:f}){const w=i,b=f,{currentTime:D,dayInfo:C,dayCourses:S,dayStats:$,isToday:T,timeSlots:x,freeTimeSlots:z,initTimeUpdate:E}=function(a){const s=e(""),l=()=>{const e=new Date,t=String(e.getHours()).padStart(2,"0"),a=String(e.getMinutes()).padStart(2,"0");s.value=`${t}:${a}`},o=t((()=>{if(!a.selectedDate)return null;const e=new Date(a.selectedDate),t=0===e.getDay()?7:e.getDay();return{date:a.selectedDate,weekday:t,weekdayName:u(t),formatDate:c(e)}})),r=t((()=>{if(!a.courses||!o.value)return[];const{weekday:e}=o.value;return a.courses.filter((t=>t.time_info&&t.time_info.weekday===e)).sort(((e,t)=>{var a,s;const l=(null==(a=e.time_info)?void 0:a.start_time)||"00:00",o=(null==(s=t.time_info)?void 0:s.start_time)||"00:00";return l.localeCompare(o)}))})),n=t((()=>{const e=r.value;if(0===e.length)return{totalCourses:0,totalHours:0,firstCourse:null,lastCourse:null,currentCourse:null,nextCourse:null};const t=e.reduce(((e,t)=>{var a;return e+((null==(a=t.time_info)?void 0:a.time_slots)||[]).length}),0),a=s.value,l=e.find((e=>{const{start_time:t,end_time:s}=e.time_info||{};return a>=t&&a<=s})),o=e.find((e=>{const{start_time:t}=e.time_info||{};return a<t}));return{totalCourses:e.length,totalHours:t,firstCourse:e[0],lastCourse:e[e.length-1],currentCourse:l,nextCourse:o}})),u=e=>({1:"星期一",2:"星期二",3:"星期三",4:"星期四",5:"星期五",6:"星期六",7:"星期日"}[e]||""),c=e=>{const t=e.getMonth()+1,a=e.getDate(),s=u(0===e.getDay()?7:e.getDay());return{month:t,day:a,weekday:s,full:`${t}月${a}日 ${s}`}},i=t((()=>{if(!a.selectedDate)return!1;const e=new Date,t=new Date(a.selectedDate);return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()})),d=t((()=>a.timeSlots?a.timeSlots.map((e=>{const t=r.value.filter((t=>{var a;return(null==(a=t.time_info)?void 0:a.period)===e.period}));return{...e,courses:t,isEmpty:0===t.length}})):[])),f=t((()=>d.value.filter((e=>e.isEmpty))));return{currentTime:s,dayInfo:o,dayCourses:r,dayStats:n,isToday:i,timeSlots:d,freeTimeSlots:f,initTimeUpdate:()=>(l(),setInterval(l,6e4)),updateCurrentTime:l,getWeekdayName:u,formatDisplayDate:c}}(w);let M=null;y((()=>{M=E()})),p((()=>{M&&clearInterval(M)}));const L=(e,t)=>{if(0===t)return!0;const a=S.value[t-1];return!!(a&&e.time_info&&a.time_info)&&e.time_info.period!==a.time_info.period},A=e=>{b("course-click",{course:e,dayInfo:C.value,isToday:T.value})};return(e,t)=>{const f=m,y=_,p=I(a("uni-icons"),j);return s(),l(y,{class:"day-schedule"},{default:o((()=>[r(y,{class:"schedule-header"},{default:o((()=>[r(y,{class:"schedule-title"},{default:o((()=>{var e,t;return[n(u((null==(t=null==(e=c(C))?void 0:e.formatDate)?void 0:t.full)||"课程表")+" ",1),c(T)?(s(),l(f,{key:0,class:"today-badge"},{default:o((()=>[n("今日")])),_:1})):d("",!0)]})),_:1}),r(y,{class:"schedule-stats"},{default:o((()=>[r(y,{class:"stat-item"},{default:o((()=>[r(p,{type:"calendar-filled",size:"16",color:"rgba(255,255,255,0.9)"}),r(f,null,{default:o((()=>[v("span",{class:"stat-value"},u(c($).totalCourses),1),n(" 节课")])),_:1})])),_:1}),r(y,{class:"stat-item"},{default:o((()=>[r(p,{type:"clock-filled",size:"16",color:"rgba(255,255,255,0.9)"}),r(f,null,{default:o((()=>[v("span",{class:"stat-value"},u(c($).totalHours),1),n(" 学时")])),_:1})])),_:1}),c(T)&&c(D)?(s(),l(y,{key:0,class:"stat-item"},{default:o((()=>[r(p,{type:"pulse",size:"16",color:"rgba(255,255,255,0.9)"}),r(f,null,{default:o((()=>[n(u(c(D)),1)])),_:1})])),_:1})):d("",!0)])),_:1})])),_:1}),c($).currentCourse?(s(),l(y,{key:0,class:"current-course-indicator"},{default:o((()=>[r(y,{class:"indicator-icon"},{default:o((()=>[r(p,{type:"play-filled",size:"16",color:"#ffffff"})])),_:1}),r(y,{class:"indicator-text"},{default:o((()=>[n(" 正在进行："+u(c($).currentCourse.name),1)])),_:1}),r(y,{class:"indicator-time"},{default:o((()=>{var e;return[n(u(null==(e=c($).currentCourse.time_info)?void 0:e.end_time)+" 结束 ",1)]})),_:1})])),_:1})):c($).nextCourse&&c(T)?(s(),l(y,{key:1,class:"next-course-indicator"},{default:o((()=>[r(y,{class:"indicator-icon"},{default:o((()=>[r(p,{type:"forward",size:"16",color:"#212529"})])),_:1}),r(y,{class:"indicator-text"},{default:o((()=>[n(" 下节课："+u(c($).nextCourse.name),1)])),_:1}),r(y,{class:"indicator-time"},{default:o((()=>{var e;return[n(u(null==(e=c($).nextCourse.time_info)?void 0:e.start_time)+" 开始 ",1)]})),_:1})])),_:1})):d("",!0),r(y,{class:"courses-container"},{default:o((()=>[c(S).length>0?(s(),l(y,{key:0,class:"courses-list"},{default:o((()=>[(s(!0),g(k,null,h(c(S),((e,t)=>(s(),g(k,{key:e.id},[L(e,t)?(s(),l(y,{key:0,class:"time-slot-divider"},{default:o((()=>[r(y,{class:"divider-line"}),r(y,{class:"divider-label"},{default:o((()=>{var t;return[n(u(null==(t=e.time_info)?void 0:t.period_name),1)]})),_:2},1024),r(y,{class:"divider-line"})])),_:2},1024)):d("",!0),r(F,{course:e,"current-time":c(D),onClick:A},null,8,["course","current-time"])],64)))),128)),c(z).length>0&&c(T)?(s(),l(y,{key:0,class:"free-time-notice"},{default:o((()=>[r(y,{class:"notice-icon"},{default:o((()=>[r(p,{type:"cup",size:"20",color:"#ffffff"})])),_:1}),r(y,{class:"notice-content"},{default:o((()=>[r(y,{class:"notice-title"},{default:o((()=>[n("空闲时间")])),_:1}),r(y,{class:"notice-desc"},{default:o((()=>[n(" 今天还有 "+u(c(z).length)+" 个时间段空闲，可以好好休息一下 ",1)])),_:1})])),_:1})])),_:1})):d("",!0)])),_:1})):(s(),l(y,{key:1,class:"empty-schedule"},{default:o((()=>[r(y,{class:"empty-icon"},{default:o((()=>[r(p,{type:"calendar",size:"48",color:"#adb5bd"})])),_:1}),r(y,{class:"empty-title"},{default:o((()=>[n(u(c(T)?"今天":"当天")+"没有安排课程",1)])),_:1}),r(y,{class:"empty-desc"},{default:o((()=>[n(u(c(T)?"好好享受这个美好的休息日吧！":"这天是个自由安排的日子"),1)])),_:1}),c(T)?(s(),l(y,{key:0,class:"empty-suggestions"},{default:o((()=>[r(y,{class:"suggestion-item"},{default:o((()=>[r(p,{type:"star",size:"14",color:"#868e96"}),r(f,null,{default:o((()=>[n("可以复习之前的课程内容")])),_:1})])),_:1}),r(y,{class:"suggestion-item"},{default:o((()=>[r(p,{type:"heart",size:"14",color:"#868e96"}),r(f,null,{default:o((()=>[n("也可以预习明天的课程")])),_:1})])),_:1}),r(y,{class:"suggestion-item"},{default:o((()=>[r(p,{type:"smile",size:"14",color:"#868e96"}),r(f,null,{default:o((()=>[n("或者好好放松休息")])),_:1})])),_:1})])),_:1})):d("",!0)])),_:1}))])),_:1}),i.loading?(s(),l(y,{key:2,class:"schedule-loading"},{default:o((()=>[r(y,{class:"loading-spinner"}),r(f,{class:"loading-text"},{default:o((()=>[n("正在加载课程数据...")])),_:1})])),_:1})):d("",!0)])),_:1})}}},[["__scopeId","data-v-690e048a"]]),B={baseURL:null,endpoints:{classtable:"/api/v1/classtable"},timeout:1e4},O=e=>{const t={"Content-Type":"application/json"};return e&&(t.Authorization=`Bearer ${e}`),t},G=e=>{if(!e)return null;let t;if(t="string"==typeof e?new Date(e):e,isNaN(t.getTime()))throw new Error("无效的日期格式");return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`},P=()=>[{period:1,name:"第一大节",time:"08:00-09:40",slots:[1,2]},{period:2,name:"第二大节",time:"10:00-11:40",slots:[3,4]},{period:3,name:"第三大节",time:"14:00-15:40",slots:[5,6]},{period:4,name:"第四大节",time:"16:00-17:40",slots:[7,8]},{period:5,name:"第五大节",time:"19:00-20:40",slots:[9,10]}],q=()=>[{id:1,name:"星期一",short:"周一"},{id:2,name:"星期二",short:"周二"},{id:3,name:"星期三",short:"周三"},{id:4,name:"星期四",short:"周四"},{id:5,name:"星期五",short:"周五"},{id:6,name:"星期六",short:"周六"},{id:7,name:"星期日",short:"周日"}],J=async(e=null)=>{try{let t=null;if(e){if(!(e=>{if(!e)return!0;if(!/^\d{4}-\d{2}-\d{2}$/.test(e))return!1;const t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())})(e))throw new Error("日期格式错误，请使用 YYYY-MM-DD 格式");t=G(e)}const a=b("token");if(!a)throw new Error("用户未登录");let s=`${B.baseURL||(B.baseURL=C().globalData.apiBaseURL),B.baseURL}${B.endpoints.classtable}`;t&&(s+=`?date=${t}`),console.log(`正在请求课程表数据: ${s}`);const l=await w({url:s,method:"GET",header:O(a),timeout:B.timeout}),{statusCode:o,data:r}=l;if(200===o){if(r.success||200===r.code)return console.log("课程表数据获取成功"),(e=>{var t;if(!e||!e.data)throw new Error("课程表数据格式错误");const{data:a}=e;a.courses&&Array.isArray(a.courses)||(console.warn("课程数据格式异常，使用空数组"),a.courses=[]),a.time_slots&&Array.isArray(a.time_slots)||(console.warn("时间段数据格式异常，使用默认配置"),a.time_slots=P()),a.weekdays&&Array.isArray(a.weekdays)||(console.warn("星期数据格式异常，使用默认配置"),a.weekdays=q());const s=a.courses.map((e=>(e.id||(e.id=`course_${Date.now()}_${Math.random().toString(36).substr(2,9)}`),e.time_info&&0===e.time_info.weekday&&(e.time_info.weekday=7),e.style||(e.style={color:"#7f4515",row:1,col:1,row_span:1,col_span:1}),e))),l={total_courses:s.length,total_hours:s.reduce(((e,t)=>{var a;return e+((null==(a=t.time_info)?void 0:a.time_slots)||[]).length}),0),courses_by_day:(null==(t=a.stats)?void 0:t.courses_by_day)||{}};return{...a,courses:s,stats:l,processed_at:(new Date).toISOString()}})(r);throw new Error(r.detail||r.message||"获取课程表失败")}{const e=((e,t,a="获取课程表")=>{let s=`${a}失败`;switch(e){case 400:s=t.detail||t.message||"请求参数错误";break;case 401:s="登录已过期，请重新登录",S("token"),setTimeout((()=>{$({url:"/pages/index/index"})}),1500);break;case 403:s="没有权限访问";break;case 404:s="服务不存在";break;case 422:s="请求数据格式错误";break;case 429:s="请求过于频繁，请稍后再试";break;case 500:s="服务器内部错误，请重新登录",S("token"),setTimeout((()=>{$({url:"/pages/index/index"})}),1500);break;case 502:case 503:case 504:s="服务暂时不可用，请稍后重试";break;default:s=t.detail||t.message||`${a}失败`}return{message:s,shouldRetry:[502,503,504,429].includes(e)}})(o,r,"获取课程表");throw new Error(e.message)}}catch(t){if(console.error("获取课程表失败:",t),t.errMsg){if(t.errMsg.includes("timeout"))throw new Error("请求超时，请检查网络连接");if(t.errMsg.includes("fail"))throw new Error("网络连接失败，请检查网络设置")}throw t}},W="classtable_cache",Z=6e5,K=50,Q=e=>{try{const t=b(W)||{},a=G(e),s=t[a];return s&&Date.now()-s.timestamp<Z?(console.log(`使用缓存的课程表数据: ${a}`),s.data):null}catch(t){return console.warn("读取课程表缓存失败:",t),null}},V=M({__name:"classtable",setup(c){const i=e(!0),f=e(null),v=e(""),g=e(M(new Date)),k=e(null),h=e(!1);function w(e){if(!e)return new Date;const t=e.split("-");return 3!==t.length?new Date:new Date(parseInt(t[0]),parseInt(t[1])-1,parseInt(t[2]))}function C(e){return["星期日","星期一","星期二","星期三","星期四","星期五","星期六"][e.getDay()]}t((()=>!!f.value));const S=t((()=>{const e=w(g.value);return{year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate(),weekDay:C(e)}}));function M(e){if("string"==typeof e)return e;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function F(){return!!b("token")||(x({title:"请先登录",icon:"none"}),$({url:"/pages/index/index"}),!1)}async function B(e=!0){e&&(i.value=!0),v.value="";try{const t=Q(g.value);if(t&&e)return f.value=t,i.value=!1,void setTimeout((()=>{B(!1)}),100);console.log(`获取课程表数据: ${g.value}`);const a=await J(g.value);f.value=a,((e,t)=>{try{const a=b(W)||{},s=G(e);a[s]={data:t,timestamp:Date.now()};const l=Date.now();Object.keys(a).forEach((e=>{l-a[e].timestamp>Z&&delete a[e]}));const o=Object.keys(a);o.length>K&&(o.sort(((e,t)=>a[e].timestamp-a[t].timestamp)),o.slice(0,o.length-K).forEach((e=>{delete a[e]}))),D(W,a),console.log(`课程表数据已缓存: ${s}`)}catch(v){console.warn("缓存课程表数据失败:",v)}})(g.value,a),console.log("课程表数据加载成功",a)}catch(t){console.error("获取课程表失败",t),v.value=t.message||"获取课程表失败";const a=Q(g.value);a?(f.value=a,x({title:"已显示缓存数据，"+v.value,icon:"none",duration:3e3})):(f.value=null,e&&x({title:v.value,icon:"none"}))}finally{e&&(i.value=!1)}}function O(){B()}function P(){const e=w(g.value);e.setDate(e.getDate()-1),g.value=M(e),B()}function q(){const e=w(g.value);e.setDate(e.getDate()+1),g.value=M(e),B()}function V(e){console.log("课程点击:",e),k.value=e.course,x({title:`查看 ${e.course.name}`,icon:"none",duration:1e3})}function X(){k.value=null}return L((()=>{F()&&(T({title:"课程表"}),B())})),A((()=>{if(!F())return;const e=M(new Date);if(g.value===e&&f.value){const e=f.value.processed_at;e&&Date.now()-new Date(e).getTime()>3e5&&B(!1)}})),y((()=>{})),p((()=>{})),(e,t)=>{const c=_,y=m,p=I(a("uni-icons"),j),w=E;return s(),l(N,null,{default:o((()=>[i.value?(s(),l(R,{key:0,text:"正在加载课程表数据..."})):(s(),l(c,{key:1,class:"page-container page-rounded-container"},{default:o((()=>[r(c,{class:"background-decoration"},{default:o((()=>[r(c,{class:"circle circle-1"}),r(c,{class:"circle circle-2"}),r(c,{class:"circle circle-3"})])),_:1}),r(c,{class:"page-header"},{default:o((()=>[r(c,{class:"header-content"},{default:o((()=>[r(y,{class:"page-title"},{default:o((()=>[n("课程表")])),_:1}),r(y,{class:"page-subtitle"},{default:o((()=>[n("Class Schedule")])),_:1})])),_:1})])),_:1}),r(c,{class:"content-wrapper"},{default:o((()=>{var e,t,a;return[r(c,{class:"simple-date-nav"},{default:o((()=>[r(w,{class:"nav-btn",onClick:P},{default:o((()=>[r(p,{type:"left",size:"20",color:"#495057"})])),_:1}),r(c,{class:"date-info"},{default:o((()=>[r(c,{class:"main-date"},{default:o((()=>[n(u(S.value.month)+"月"+u(S.value.day)+"日",1)])),_:1}),r(c,{class:"sub-date"},{default:o((()=>[n(u(S.value.weekDay)+" • "+u(S.value.year),1)])),_:1})])),_:1}),r(w,{class:"nav-btn",onClick:q},{default:o((()=>[r(p,{type:"right",size:"20",color:"#495057"})])),_:1})])),_:1}),v.value&&!f.value?(s(),l(U,{key:0,"icon-type":"wifi-off",title:"加载失败",description:v.value,"show-retry":!0,onRetry:O},null,8,["description"])):(s(),l(H,{key:1,"selected-date":g.value,courses:(null==(e=f.value)?void 0:e.courses)||[],"time-slots":(null==(t=f.value)?void 0:t.time_slots)||[],loading:i.value,onCourseClick:V},null,8,["selected-date","courses","time-slots","loading"])),h.value&&(null==(a=f.value)?void 0:a.stats)?(s(),l(Y,{key:2,title:"本周统计",class:"stats-card"},{default:o((()=>[r(c,{class:"stats-grid"},{default:o((()=>[r(c,{class:"stat-item"},{default:o((()=>[r(y,{class:"stat-value"},{default:o((()=>[n(u(f.value.stats.total_courses),1)])),_:1}),r(y,{class:"stat-label"},{default:o((()=>[n("总课程数")])),_:1})])),_:1}),r(c,{class:"stat-item"},{default:o((()=>[r(y,{class:"stat-value"},{default:o((()=>[n(u(f.value.stats.total_hours),1)])),_:1}),r(y,{class:"stat-label"},{default:o((()=>[n("总学时")])),_:1})])),_:1})])),_:1})])),_:1})):d("",!0)]})),_:1})])),_:1})),k.value?(s(),l(c,{key:2,class:"course-detail-modal",onClick:X},{default:o((()=>[r(c,{class:"modal-content",onClick:t[0]||(t[0]=z((()=>{}),["stop"]))},{default:o((()=>[r(c,{class:"modal-header"},{default:o((()=>[r(y,{class:"modal-title"},{default:o((()=>[n(u(k.value.name),1)])),_:1}),r(w,{class:"modal-close",onClick:X},{default:o((()=>[r(p,{type:"closeempty",size:"20",color:"#6c757d"})])),_:1})])),_:1}),r(c,{class:"modal-body"},{default:o((()=>[r(c,{class:"detail-section"},{default:o((()=>[r(c,{class:"section-title"},{default:o((()=>[n("课程信息")])),_:1}),r(c,{class:"detail-row"},{default:o((()=>[r(y,{class:"label"},{default:o((()=>[n("上课地点：")])),_:1}),r(y,{class:"value"},{default:o((()=>[n(u(k.value.location),1)])),_:1})])),_:1}),r(c,{class:"detail-row"},{default:o((()=>[r(y,{class:"label"},{default:o((()=>[n("课程类型：")])),_:1}),r(y,{class:"value"},{default:o((()=>[n(u(k.value.course_type),1)])),_:1})])),_:1}),r(c,{class:"detail-row"},{default:o((()=>[r(y,{class:"label"},{default:o((()=>[n("学分：")])),_:1}),r(y,{class:"value"},{default:o((()=>[n(u(k.value.credits),1)])),_:1})])),_:1}),k.value.class_name?(s(),l(c,{key:0,class:"detail-row"},{default:o((()=>[r(y,{class:"label"},{default:o((()=>[n("上课班级：")])),_:1}),r(y,{class:"value"},{default:o((()=>[n(u(k.value.class_name),1)])),_:1})])),_:1})):d("",!0)])),_:1}),k.value.time_info?(s(),l(c,{key:0,class:"detail-section"},{default:o((()=>[r(c,{class:"section-title"},{default:o((()=>[n("时间安排")])),_:1}),r(c,{class:"detail-row"},{default:o((()=>[r(y,{class:"label"},{default:o((()=>[n("上课时间：")])),_:1}),r(y,{class:"value"},{default:o((()=>[n(u(k.value.time_info.weekday_name)+" "+u(k.value.time_info.period_name),1)])),_:1})])),_:1}),r(c,{class:"detail-row"},{default:o((()=>[r(y,{class:"label"},{default:o((()=>[n("具体时段：")])),_:1}),r(y,{class:"value"},{default:o((()=>[n(u(k.value.time_info.start_time)+" - "+u(k.value.time_info.end_time),1)])),_:1})])),_:1}),r(c,{class:"detail-row"},{default:o((()=>[r(y,{class:"label"},{default:o((()=>[n("上课周次：")])),_:1}),r(y,{class:"value"},{default:o((()=>{var e;return[n("第"+u((null==(e=k.value.weeks)?void 0:e.join("、"))||"未知")+"周",1)]})),_:1})])),_:1})])),_:1})):d("",!0)])),_:1}),r(c,{class:"modal-footer"},{default:o((()=>[r(w,{class:"modal-btn",onClick:X},{default:o((()=>[n("确定")])),_:1})])),_:1})])),_:1})])),_:1})):d("",!0)])),_:1})}}},[["__scopeId","data-v-746be3ad"]]);export{V as default};
