import{p as e,Z as a,a3 as t,q as s,s as l,u as n,l as o,A as c,v as i,r,c as u,w as d,o as f,a as p,j as _,g as m,k as y,K as g}from"./index-Dtoy4zGN.js";import{o as v,a as k,r as b,_ as h}from"./uni-app.es._ix9stLI.js";import{P as x}from"./PageLayout.CFtzvrHK.js";import{M as j}from"./ModernCard.BWnkSEKr.js";import{L as w,E as C}from"./EmptyState.DOWmf_55.js";import{_ as z}from"./_plugin-vue_export-helper.BCo6x5W8.js";const E=z({__name:"example",setup(z){const E=e(!0),L=e(null),A=a((()=>!!L.value));function B(){return!!s("token")||(l({title:"请先登录",icon:"none"}),n({url:"/pages/index/index"}),!1)}async function M(){E.value=!0;const e=s("token"),a=o().globalData.apiBaseURL;try{const{statusCode:t,data:s}=await c({url:`${a}/api/v1/your-endpoint`,method:"GET",header:{Authorization:"Bearer "+e}});200!==t||!s.success&&200!==s.code?401===t?(i("token"),l({title:"登录已过期，请重新登录",icon:"none"}),setTimeout((()=>n({url:"/pages/index/index"})),1500)):(l({title:s.detail||s.message||"获取数据失败",icon:"none"}),L.value=null):L.value=s.data||s.result||{}}catch(t){console.error("请求失败",t),l({title:"网络连接失败",icon:"none"}),L.value=null}finally{E.value=!1}}function P(){l({title:"已执行主操作",icon:"success"})}function R(){M()}return v((()=>{B()&&(t({title:"新功能页面标题"}),M())})),k((()=>{B()})),(e,a)=>{const t=m,s=y,l=b(r("uni-icons"),h),n=g;return f(),u(x,null,{default:d((()=>[E.value?(f(),u(w,{key:0,text:"正在加载数据..."})):(f(),u(t,{key:1,class:"page-container page-rounded-container"},{default:d((()=>[p(t,{class:"background-decoration"},{default:d((()=>[p(t,{class:"circle circle-1"}),p(t,{class:"circle circle-2"}),p(t,{class:"circle circle-3"})])),_:1}),p(t,{class:"page-header"},{default:d((()=>[p(t,{class:"header-content"},{default:d((()=>[p(s,{class:"page-title"},{default:d((()=>[_("新功能页面标题")])),_:1}),p(s,{class:"page-subtitle"},{default:d((()=>[_("New Feature Subtitle")])),_:1})])),_:1})])),_:1}),p(t,{class:"content-wrapper"},{default:d((()=>[A.value?(f(),u(t,{key:1},{default:d((()=>[p(j,{title:"示例卡片"},{default:d((()=>[p(t,{class:"card-section"},{default:d((()=>[p(s,{class:"section-title"},{default:d((()=>[_("数据概览")])),_:1}),p(s,{class:"section-desc"},{default:d((()=>[_("这里放置你的数据摘要或图表")])),_:1})])),_:1})])),_:1}),p(j,{title:"操作"},{default:d((()=>[p(t,{class:"button-group"},{default:d((()=>[p(n,{class:"action-btn primary-btn",onClick:P},{default:d((()=>[p(l,{type:"paperplane",size:"20",color:"#fff"}),p(s,null,{default:d((()=>[_("主操作")])),_:1})])),_:1}),p(n,{class:"action-btn secondary-btn",onClick:R},{default:d((()=>[p(l,{type:"refresh",size:"20",color:"#495057"}),p(s,null,{default:d((()=>[_("次要操作")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):(f(),u(C,{key:0,"icon-type":"info-filled",title:"暂无数据",description:"请检查网络或稍后重试","show-retry":!0,onRetry:M}))])),_:1})])),_:1}))])),_:1})}}},[["__scopeId","data-v-f4491eaf"]]);export{E as default};
