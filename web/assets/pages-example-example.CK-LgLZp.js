import{B as e,W as a,a0 as t,D as s,f as l,E as n,u as o,H as c,G as i,r,c as u,w as d,o as f,a as p,b as _,d as m,i as y,A as g}from"./index-COa97gao.js";import{_ as b,o as k,b as v,r as h,a as x}from"./uni-icons.CacCOvKU.js";import{P as j}from"./PageLayout.Bp6U0qzC.js";import{M as w}from"./ModernCard.DC8hFVXT.js";import{L as C}from"./LoadingScreen.Bo2L3XSO.js";import{E}from"./EmptyState.DgayeelM.js";const L=b({__name:"example",setup(b){const L=e(!0),z=e(null),B=a((()=>!!z.value));function S(){return!!s("token")||(l({title:"请先登录",icon:"none"}),n({url:"/pages/index/index"}),!1)}async function A(){L.value=!0;const e=s("token"),a=o().globalData.apiBaseURL;try{const{statusCode:t,data:s}=await c({url:`${a}/api/v1/your-endpoint`,method:"GET",header:{Authorization:"Bearer "+e}});200!==t||!s.success&&200!==s.code?401===t?(i("token"),l({title:"登录已过期，请重新登录",icon:"none"}),setTimeout((()=>n({url:"/pages/index/index"})),1500)):(l({title:s.detail||s.message||"获取数据失败",icon:"none"}),z.value=null):z.value=s.data||s.result||{}}catch(t){console.error("请求失败",t),l({title:"网络连接失败",icon:"none"}),z.value=null}finally{L.value=!1}}function D(){l({title:"已执行主操作",icon:"success"})}function G(){A()}return k((()=>{S()&&(t({title:"新功能页面标题"}),A())})),v((()=>{S()})),(e,a)=>{const t=m,s=y,l=h(r("uni-icons"),x),n=g;return f(),u(j,null,{default:d((()=>[L.value?(f(),u(C,{key:0,text:"正在加载数据..."})):(f(),u(t,{key:1,class:"page-container page-rounded-container"},{default:d((()=>[p(t,{class:"background-decoration"},{default:d((()=>[p(t,{class:"circle circle-1"}),p(t,{class:"circle circle-2"}),p(t,{class:"circle circle-3"})])),_:1}),p(t,{class:"page-header"},{default:d((()=>[p(t,{class:"header-content"},{default:d((()=>[p(s,{class:"page-title"},{default:d((()=>[_("新功能页面标题")])),_:1}),p(s,{class:"page-subtitle"},{default:d((()=>[_("New Feature Subtitle")])),_:1})])),_:1})])),_:1}),p(t,{class:"content-wrapper"},{default:d((()=>[B.value?(f(),u(t,{key:1},{default:d((()=>[p(w,{title:"示例卡片"},{default:d((()=>[p(t,{class:"card-section"},{default:d((()=>[p(s,{class:"section-title"},{default:d((()=>[_("数据概览")])),_:1}),p(s,{class:"section-desc"},{default:d((()=>[_("这里放置你的数据摘要或图表")])),_:1})])),_:1})])),_:1}),p(w,{title:"操作"},{default:d((()=>[p(t,{class:"button-group"},{default:d((()=>[p(n,{class:"action-btn primary-btn",onClick:D},{default:d((()=>[p(l,{type:"paperplane",size:"20",color:"#fff"}),p(s,null,{default:d((()=>[_("主操作")])),_:1})])),_:1}),p(n,{class:"action-btn secondary-btn",onClick:G},{default:d((()=>[p(l,{type:"refresh",size:"20",color:"#495057"}),p(s,null,{default:d((()=>[_("次要操作")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):(f(),u(E,{key:0,"icon-type":"info-filled",title:"暂无数据",description:"请检查网络或稍后重试","show-retry":!0,onRetry:A}))])),_:1})])),_:1}))])),_:1})}}},[["__scopeId","data-v-5a211ad6"]]);export{L as default};
